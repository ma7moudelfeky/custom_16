<data>
    <record id="inherit_project_project_form" model="ir.ui.view">
        <field name="name">inherit.project.project.form</field>
        <field name="model">project.project</field>
        <!--<field name="groups_id" eval="[(4, ref(''))]"/>-->
        <field name="inherit_id" ref="project.edit_project"/>
        <field name="arch" type="xml">
            <field name="user_id" position="after">
                <field name="project_team_lead_id"/>
                <field name="apply_qc"/>
                <field name="maximum_daily_working_hours" invisible="1"/>
            </field>
            <xpath expr="//field[@name='partner_id']" position="before">
                <field name="code"/>
                <field name="project_type_id"/>
                <field name="project_code" readonly="1"/>
                <field name="done_tasks" readonly="1"/>
            </xpath>
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="favorite_user_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
            </xpath>
            <xpath expr="//div[@name='dates']" position="after">
                <field name="raincad_database"/>
                <field name="project_source_file_ids" widget="many2many_binary" groups="irrigation_project_management.group_pm"/>
                <field name="project_package_layout_ids" widget="many2many_binary" groups="irrigation_project_management.group_pm"/>
                <button type="object" name="action_task_attachment"
                        groups="irrigation_project_management.group_pm"
                        class="oe_stat_button" icon="fa-pencil-square-o"
                >View Tasks Attachments
                </button>
            </xpath>
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="customer_code" groups="irrigation_project_management.group_pm"/>
                <field name="project_service_ids" widget="many2many_tags"/>
                <field name="received_date"/>
<!--                <field name="estimate_time" widget="float_time"/>-->
                <field name="spent_time" widget="float_time"/>
                <field name="can_edit_project" invisible="1"/>
                <field name="man_days"/>
                <field name="total_estimated_valve"/>
                <field name="total_actual_valve"/>
                <field name="total_estimated_design" widget="float_time"/>
                <field name="project_daily_water"/>
                <field name="project_pump_flow"/>
            </xpath>

            <xpath expr="//field[@name='partner_id']" position="attributes">
                <attribute name="attrs">{'invisible':[('can_edit_project','=',False)]}</attribute>
                <attribute name="options">{'no_create': True, 'no_edit': True, 'no_open': True}</attribute>
            </xpath>

            <xpath expr="//field[@name='name']" position="attributes">
                <attribute name="attrs">{'invisible':[('can_edit_project','=',False)]}</attribute>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/group[1]/group[2]/field[@name='project_package_layout_ids']" position="after">
                <xpath expr="//field[@name='tag_ids']" position="move"/>
            </xpath>

            <xpath expr="//notebook//page[@name='description']" position="after">
                <page name="Soft Scape Data" string="Soft Scape Data">
<!--                    <group>-->
<!--                        <group>-->
<!--                            <field name="grass_area"/>-->
<!--                            <field name="palm"/>-->
<!--                            <field name="tree"/>-->
<!--                            <field name="palm_like"/>-->
<!--                        </group>-->
<!--                        <group>-->
<!--                            <field name="ground_cover"/>-->
<!--                            <field name="shrubs_separated"/>-->
<!--                            <field name="shrubs_heavy"/>-->
<!--                        </group>-->
<!--                    </group>-->
                    <!-- add  context="{'default_field' : field}" to set default value -->
                    <group>
                        <group>
                            <button name="send_to_boq_items" string="Send To BOQ Items" type="object" class="oe_highlight"/>
                            <field name="soft_scape_read" invisible="1"/>
                        </group>
                        <group>

                        </group>
                    </group>

                    <field name="soft_scape_data_ids" attrs="{'readonly':[('soft_scape_read','=',False)]}">
                        <tree editable="bottom">
                            <!-- add  domain="[('id','=',parent.field)]" to set default domain -->
                            <field name="planet_type_id"/>
                            <field name="uom_id"/>
                            <field name="lpd" readonly="0"/>
                            <field name="lph" readonly="0"/>
                            <field name="vr" readonly="0"/>
                            <field name="category_ids"  widget="many2many_tags"/>
                            <field name="brand_id"/>
                            <field name="qty"/>
                            <field name="device_no"/>
                            <field name="es_qty"/>
                            <field name="wr" sum="Total"/>
                            <field name="evf" sum="Total"/>
                            <field name="evn" sum="Total"/>
                            <field name="attachment_ids" widget="many2many_binary"/>
                        </tree>
                    </field>
                </page>

<!--                <page name="Main tab Fields " string="Main Tab Fields">-->
<!--                    <group>-->
<!--                        <group>-->
<!--                            <field name="man_days"/>-->
<!--                            <field name="total_estimated_valve"/>-->
<!--                            <field name="total_estimated_design"/>-->
<!--                            <field name="project_daily_water"/>-->
<!--                            <field name="project_pump_flow"/>-->
<!--                        </group>-->
<!--                        <group>-->

<!--                        </group>-->
<!--                    </group>-->

<!--                </page>-->


                <page name="boq_item_line_ids" string="Boq Item">
                    <!-- add  context="{'default_field' : field}" to set default value -->

                    <group>
                        <group>
                            <field name="category_id"/>
                            <button name="add_products" string="Add Products" type="object" class="oe_highlight"/>
                        </group>
                        <group>

                        </group>
                    </group>


                    <field name="boq_item_line_ids">
                        <tree editable="bottom">
                            <!-- add  domain="[('id','=',parent.field)]" to set default domain -->
                            <field name="planet_type_id"/>
                            <field name="internal_code"/>
                            <field name="category_id"/>
                            <field name="product_id"/>
                            <field name="qty_est"/>
                            <field name="qty_dwg"/>
                            <field name="awq"/>
                            <field name="qty_boq"/>
                        </tree>
                    </field>
                </page>


                <page name="Project Files" string="Project Files" invisible="1">
                    <group>
                        <group>
                            <field name="project_source_file_ids" widget="many2many_binary" groups="irrigation_project_management.group_pm"/>
                            <field name="grass_layout_ids" widget="many2many_binary"/>
                            <field name="palm_and_tree_layout_ids" widget="many2many_binary"/>
                        </group>
                        <group>
                            <field name="g_and_s_layout_ids" widget="many2many_binary"/>
                            <field name="project_package_layout_ids" widget="many2many_binary" groups="irrigation_project_management.group_pm"/>
                            <field name="project_frame" widget="many2many_binary" groups="irrigation_project_management.group_pm"/>
                            <button type="object" name="action_task_attachment"
                                    groups="irrigation_project_management.group_pm"
                                    class="oe_stat_button" icon="fa-pencil-square-o"
                            >View Tasks Attachments
                            </button>
                        </group>
                    </group>

                </page>
            </xpath>

        </field>
    </record>

    <record id="inherit_project_project_kanban" model="ir.ui.view">
        <field name="name">inherit.project.project.kanban</field>
        <field name="model">project.project</field>
        <!--<field name="groups_id" eval="[(4, ref(''))]"/>-->
        <field name="inherit_id" ref="project.view_project_kanban"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='display_name']" position="after">
                <field name="code"/>
            </xpath>

            <xpath expr="//div[@class='o_primary']" position="replace">
                <div class="o_primary">
                    <span class="o_text_overflow" t-att-title="record.code.value"><t t-esc="record.code.value"/></span>
                    <span class="o_text_overflow text-muted" t-if="record.customer_code.value">
                        <span class="fa fa-user me-2" aria-label="customer" title="customer"/><t t-esc="record.customer_code.value"/>
                    </span>
                    <div t-if="record.date.raw_value or record.date_start.raw_value" class="text-muted o_row">
                        <span class="fa fa-clock-o me-2" title="Dates"/><field name="date_start"/>
                        <i t-if="record.date.raw_value and record.date_start.raw_value" class="fa fa-long-arrow-right mx-2 oe_read_only" aria-label="Arrow icon" title="Arrow"/>
                        <field name="date"/>
                    </div>
                    <div t-if="record.alias_name.value and record.alias_domain.value" class="text-muted text-truncate" t-att-title="record.alias_id.value">
                        <span class="fa fa-envelope-o me-2" aria-label="Domain Alias" title="Domain Alias"/><t t-esc="record.alias_id.value"/>
                    </div>
                    <div t-if="record.rating_active.raw_value and record.rating_count.raw_value &gt; 0" class="text-muted" groups="project.group_project_rating">
                        <b class="me-1">
                            <span style="font-weight:bold;" class="fa mt4 fa-smile-o text-success" t-if="record.rating_avg.raw_value &gt;= 3.66" title="Average Rating: Satisfied" role="img" aria-label="Happy face"/>
                            <span style="font-weight:bold;" class="fa mt4 fa-meh-o text-warning" t-elif="record.rating_avg.raw_value &gt;= 2.33" title="Average Rating: Okay" role="img" aria-label="Neutral face"/>
                            <span style="font-weight:bold;" class="fa mt4 fa-frown-o text-danger" t-else="" title="Average Rating: Dissatisfied" role="img" aria-label="Sad face"/>
                        </b>
                        <field name="rating_avg_percentage" widget="percentage"/>
                    </div>
                    <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
                </div>

            </xpath>

        </field>
    </record>

    <record id="inherit_project_project_tree" model="ir.ui.view">
        <field name="name">inherit.project.project.tree</field>
        <field name="model">project.project</field>
        <!--<field name="groups_id" eval="[(4, ref(''))]"/>-->
        <field name="inherit_id" ref="project.view_project"/>
        <field name="arch" type="xml">
            <field name="display_name" position="replace">
                <field name="name" groups="project.group_project_manager"/>
                <field name="code"/>
                <field name="can_edit_project" invisible="1"/>
            </field>
<!--            <xpath expr="//field[@name='display_name']" position="attributes">-->
<!--                <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->

        </field>
    </record>

    <record id="inherit_project_project_search" model="ir.ui.view">
        <field name="name">inherit.project.project.search</field>
        <field name="model">project.project</field>
        <!--<field name="groups_id" eval="[(4, ref(''))]"/>-->
        <field name="inherit_id" ref="project.view_project_project_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='name']" position="before">
                <field name="code"/>
            </xpath>

            <xpath expr="//field[@name='partner_id']" position="replace">
                <field name="customer_code"/>
            </xpath>
            <xpath expr="//filter[@name='Partner']" position="replace">
                <filter string="Project Code" name="group_by__code" context="{'group_by':'code'}"/>
                <filter string="Customer Code" name="group_by_customer_code" context="{'group_by':'customer_code'}"/>
            </xpath>
        </field>
    </record>


</data>